"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.helpers = exports.commands = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _logger = _interopRequireDefault(require("../logger"));

let commands = {},
    helpers = {},
    extensions = {};
exports.helpers = helpers;
exports.commands = commands;

commands.pageLoadTimeoutW3C = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (ms) {
    yield this.setPageLoadTimeout(this.parseTimeoutArgument(ms));
  });

  return function (_x) {
    return _ref.apply(this, arguments);
  };
}();

commands.pageLoadTimeoutMJSONWP = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (ms) {
    yield this.setPageLoadTimeout(this.parseTimeoutArgument(ms));
  });

  return function (_x2) {
    return _ref2.apply(this, arguments);
  };
}();

commands.scriptTimeoutW3C = function () {
  var _ref3 = (0, _asyncToGenerator2.default)(function* (ms) {
    yield this.asyncScriptTimeout(ms);
  });

  return function (_x3) {
    return _ref3.apply(this, arguments);
  };
}();

commands.scriptTimeoutMJSONWP = function () {
  var _ref4 = (0, _asyncToGenerator2.default)(function* (ms) {
    yield this.asyncScriptTimeout(ms);
  });

  return function (_x4) {
    return _ref4.apply(this, arguments);
  };
}();

commands.asyncScriptTimeout = function () {
  var _ref5 = (0, _asyncToGenerator2.default)(function* (ms) {
    this.setAsyncScriptTimeout(this.parseTimeoutArgument(ms));
  });

  return function (_x5) {
    return _ref5.apply(this, arguments);
  };
}();

helpers.setPageLoadTimeout = function (ms) {
  ms = parseInt(ms, 10);
  this.pageLoadMs = ms;

  if (this.remote) {
    this.remote.pageLoadMs = this.pageLoadMs;
  }

  _logger.default.debug(`Set page load timeout to ${ms}ms`);
};

helpers.setAsyncScriptTimeout = function (ms) {
  this.asyncWaitMs = ms;

  _logger.default.debug(`Set async script timeout to ${ms}ms`);
};

Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy90aW1lb3V0LmpzIl0sIm5hbWVzIjpbImNvbW1hbmRzIiwiaGVscGVycyIsImV4dGVuc2lvbnMiLCJwYWdlTG9hZFRpbWVvdXRXM0MiLCJtcyIsInNldFBhZ2VMb2FkVGltZW91dCIsInBhcnNlVGltZW91dEFyZ3VtZW50IiwicGFnZUxvYWRUaW1lb3V0TUpTT05XUCIsInNjcmlwdFRpbWVvdXRXM0MiLCJhc3luY1NjcmlwdFRpbWVvdXQiLCJzY3JpcHRUaW1lb3V0TUpTT05XUCIsInNldEFzeW5jU2NyaXB0VGltZW91dCIsInBhcnNlSW50IiwicGFnZUxvYWRNcyIsInJlbW90ZSIsImxvZ2dlciIsImRlYnVnIiwiYXN5bmNXYWl0TXMiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsUUFBUSxHQUFHLEVBQWY7QUFBQSxJQUFtQkMsT0FBTyxHQUFHLEVBQTdCO0FBQUEsSUFBaUNDLFVBQVUsR0FBRyxFQUE5Qzs7OztBQUdBRixRQUFRLENBQUNHLGtCQUFUO0FBQUEsNkNBQThCLFdBQWdCQyxFQUFoQixFQUFvQjtBQUNoRCxVQUFNLEtBQUtDLGtCQUFMLENBQXdCLEtBQUtDLG9CQUFMLENBQTBCRixFQUExQixDQUF4QixDQUFOO0FBQ0QsR0FGRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFJQUosUUFBUSxDQUFDTyxzQkFBVDtBQUFBLDhDQUFrQyxXQUFnQkgsRUFBaEIsRUFBb0I7QUFDcEQsVUFBTSxLQUFLQyxrQkFBTCxDQUF3QixLQUFLQyxvQkFBTCxDQUEwQkYsRUFBMUIsQ0FBeEIsQ0FBTjtBQUNELEdBRkQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBS0FKLFFBQVEsQ0FBQ1EsZ0JBQVQ7QUFBQSw4Q0FBNEIsV0FBZ0JKLEVBQWhCLEVBQW9CO0FBQzlDLFVBQU0sS0FBS0ssa0JBQUwsQ0FBd0JMLEVBQXhCLENBQU47QUFDRCxHQUZEOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUlBSixRQUFRLENBQUNVLG9CQUFUO0FBQUEsOENBQWdDLFdBQWdCTixFQUFoQixFQUFvQjtBQUNsRCxVQUFNLEtBQUtLLGtCQUFMLENBQXdCTCxFQUF4QixDQUFOO0FBQ0QsR0FGRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFJQUosUUFBUSxDQUFDUyxrQkFBVDtBQUFBLDhDQUE4QixXQUFnQkwsRUFBaEIsRUFBb0I7QUFDaEQsU0FBS08scUJBQUwsQ0FBMkIsS0FBS0wsb0JBQUwsQ0FBMEJGLEVBQTFCLENBQTNCO0FBQ0QsR0FGRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFJQUgsT0FBTyxDQUFDSSxrQkFBUixHQUE2QixVQUFVRCxFQUFWLEVBQWM7QUFDekNBLEVBQUFBLEVBQUUsR0FBR1EsUUFBUSxDQUFDUixFQUFELEVBQUssRUFBTCxDQUFiO0FBQ0EsT0FBS1MsVUFBTCxHQUFrQlQsRUFBbEI7O0FBQ0EsTUFBSSxLQUFLVSxNQUFULEVBQWlCO0FBQ2YsU0FBS0EsTUFBTCxDQUFZRCxVQUFaLEdBQXlCLEtBQUtBLFVBQTlCO0FBQ0Q7O0FBQ0RFLGtCQUFPQyxLQUFQLENBQWMsNEJBQTJCWixFQUFHLElBQTVDO0FBQ0QsQ0FQRDs7QUFTQUgsT0FBTyxDQUFDVSxxQkFBUixHQUFnQyxVQUFVUCxFQUFWLEVBQWM7QUFDNUMsT0FBS2EsV0FBTCxHQUFtQmIsRUFBbkI7O0FBQ0FXLGtCQUFPQyxLQUFQLENBQWMsK0JBQThCWixFQUFHLElBQS9DO0FBQ0QsQ0FIRDs7QUFLQWMsTUFBTSxDQUFDQyxNQUFQLENBQWNqQixVQUFkLEVBQTBCRixRQUExQixFQUFvQ0MsT0FBcEM7ZUFFZUMsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcblxubGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG4vLyBwYWdlTG9hZFxuY29tbWFuZHMucGFnZUxvYWRUaW1lb3V0VzNDID0gYXN5bmMgZnVuY3Rpb24gKG1zKSB7XG4gIGF3YWl0IHRoaXMuc2V0UGFnZUxvYWRUaW1lb3V0KHRoaXMucGFyc2VUaW1lb3V0QXJndW1lbnQobXMpKTtcbn07XG5cbmNvbW1hbmRzLnBhZ2VMb2FkVGltZW91dE1KU09OV1AgPSBhc3luYyBmdW5jdGlvbiAobXMpIHtcbiAgYXdhaXQgdGhpcy5zZXRQYWdlTG9hZFRpbWVvdXQodGhpcy5wYXJzZVRpbWVvdXRBcmd1bWVudChtcykpO1xufTtcblxuLy8gc2NyaXB0XG5jb21tYW5kcy5zY3JpcHRUaW1lb3V0VzNDID0gYXN5bmMgZnVuY3Rpb24gKG1zKSB7XG4gIGF3YWl0IHRoaXMuYXN5bmNTY3JpcHRUaW1lb3V0KG1zKTtcbn07XG5cbmNvbW1hbmRzLnNjcmlwdFRpbWVvdXRNSlNPTldQID0gYXN5bmMgZnVuY3Rpb24gKG1zKSB7XG4gIGF3YWl0IHRoaXMuYXN5bmNTY3JpcHRUaW1lb3V0KG1zKTtcbn07XG5cbmNvbW1hbmRzLmFzeW5jU2NyaXB0VGltZW91dCA9IGFzeW5jIGZ1bmN0aW9uIChtcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtYXdhaXRcbiAgdGhpcy5zZXRBc3luY1NjcmlwdFRpbWVvdXQodGhpcy5wYXJzZVRpbWVvdXRBcmd1bWVudChtcykpO1xufTtcblxuaGVscGVycy5zZXRQYWdlTG9hZFRpbWVvdXQgPSBmdW5jdGlvbiAobXMpIHtcbiAgbXMgPSBwYXJzZUludChtcywgMTApO1xuICB0aGlzLnBhZ2VMb2FkTXMgPSBtcztcbiAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgdGhpcy5yZW1vdGUucGFnZUxvYWRNcyA9IHRoaXMucGFnZUxvYWRNcztcbiAgfVxuICBsb2dnZXIuZGVidWcoYFNldCBwYWdlIGxvYWQgdGltZW91dCB0byAke21zfW1zYCk7XG59O1xuXG5oZWxwZXJzLnNldEFzeW5jU2NyaXB0VGltZW91dCA9IGZ1bmN0aW9uIChtcykge1xuICB0aGlzLmFzeW5jV2FpdE1zID0gbXM7XG4gIGxvZ2dlci5kZWJ1ZyhgU2V0IGFzeW5jIHNjcmlwdCB0aW1lb3V0IHRvICR7bXN9bXNgKTtcbn07XG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgY29tbWFuZHMsIGhlbHBlcnMpO1xuZXhwb3J0IHsgY29tbWFuZHMsIGhlbHBlcnMgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXSwiZmlsZSI6ImxpYi9jb21tYW5kcy90aW1lb3V0LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
